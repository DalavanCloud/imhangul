AC_INIT(imhangul.h)

AM_INIT_AUTOMAKE(imhangul, 0.9.4)
AM_MAINTAINER_MODE

dnl Checks for programs
AC_PROG_CC
AC_PROG_CPP
AC_PROG_INSTALL
AC_PROG_LIBTOOL

dnl Checks for libraries.
dnl AC_PATH_PROG(PKG_CONFIG, pkg-config, no)
PKG_CHECK_MODULES(GTK, gtk+-2.0 >= 2.0.0,,
		  AC_MSG_ERROR([im-hangul needs GTK+ 2.0.0 or higher]))

dnl Checks for header files.

dnl Checks for typedefs, structures, and compiler characteristics.

dnl Checks for library functions.

dnl add -Wall to CFLAGS if GCC=yes
if test x$CC == xgcc; then
	CFLAGS="$CFLAGS -Wall"
fi

dnl check for gtk binary version
GTK_BINARY_VERSION=`$PKG_CONFIG --variable=gtk_binary_version gtk+-2.0`
GTK_PREFIX=`$PKG_CONFIG --variable=prefix gtk+-2.0`
AC_SUBST(GTK_BINARY_VERSION)
AC_SUBST(GTK_PREFIX)

AC_OUTPUT(Makefile imhangul.spec)
